<html>
    <body>
        <script>
            //1 push 方法：向数组末尾追加项，返回数组打新长度
            let ary = [1,3,4,7];

            var r = ary.push(9);
            console.log(ary);
            console.log(r);

            //push原理
            console.log("push原理");
            Array.prototype.myPush = function (){
                //this 指向数组的实例
                for(let i = 0;i<arguments.length;i++){
                    this[this.length] = arguments[i];
                }
                return this.length;
            };

            let r2 = ary.myPush(11);
            console.log(ary);
            console.log(r2);

            //2 pop原理

            console.log("pop原理");
            
            Array.prototype.myPop = function(){
                //this 就是数组实例
                let last = this[this.length - 1];
                this.length--;
                return last;
            };

            let r3 = ary.myPop();
            console.log(r3);

            //forEach
            console.log("forEach");

            Array.prototype.myForEach = function(callback){
                for(let i = 0;i<this.length;i++){
                    callback(this[i],i);
                }
            };
            ary.myForEach(function(item,index){
                console.log(item,index);
            });

            //map
            console.log("map");

            Array.prototype.myMap = function(cb){
                let newArr = [];
                for(let i = 0; i< this.length; i++){
                    let result = cb(this[i],i);
                    newArr.push(result);
                }
                return newArr;
            }

            let r6 = ary.myMap(function (item,idx){
                return item*2;
            })
            console.log(r6);
        </script>
    </body>
</html>